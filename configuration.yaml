homeassistant:
  # Name of the location where Home Assistant is running
  name: Home
  # Location required to calculate the time the sun rises and sets
  latitude: !secret home_latitude 
  longitude: !secret home_longitude
  # Impacts weather/sunrise data (altitude above sea level in meters)
  elevation: !secret home_elevation
  # metric for Metric, imperial for Imperial
  unit_system: imperial
  # Pick yours from here: http://en.wikipedia.org/wiki/List_of_tz_database_time_zones
  time_zone: America/Denver
  # Customization file
  customize: !include customize.yaml
  customize_domain: !include customize_domain.yaml
  internal_url: !secret http_internal_url
  external_url: !secret http_external_url

# Show links to resources in log and frontend
# introduction:

# Enables the frontend
frontend:
  themes: !include themes.yaml

lovelace:
#  mode: yaml
# Enables configuration UI
config:

http:
  # Secrets are defined in the file secrets.yaml
  #api_password: !secret http_password
  use_x_forwarded_for: true
  trusted_proxies:
    - 127.0.0.1
system_health:
mobile_app:
# Checks for available updates
# Note: This component will send some information about your system to
# the developers to assist with development of Home Assistant.
# For more information, please see:
# https://home-assistant.io/blog/2016/10/25/explaining-the-updater/
updater:

zeroconf:

energy:

# Discover some devices automatically
#discovery:

# recorder:
#   exclude:
#     domains:
#       - alarm_control_panel
#       - automation 
#       - input_boolean
#       - remote 
#       - script
#       - binary_sensor
#       - climate
#       - cover
#       - device_tracker
#       - fan
#       - light
#       - lock
#       - media_player
#       - sensor
#       - switch
# Allows you to issue voice commands from the frontend in enabled browsers
#conversation:

# Enables support for tracking state changes over time
#history:

# View all events in a logbook
#logbook:

# Enables a map showing the location of tracked devices
map:

# Track the sun
sun:

# Weather prediction
#weather:
#  - platform: darksky
#    api_key: !secret darksky_key

# Text to speech
#tts:
#  - platform: google_translate
#    service_name: google_say 

# inputs
input_boolean:
input_datetime:
input_number:
input_select:
input_text:

# includes
group: !include groups.yaml
automation: !include_dir_merge_list automation/
script: !include scripts.yaml
switch: !include switches.yaml
sensor: !include_dir_merge_list sensors/
binary_sensor: !include binary_sensor.yaml
alexa: !include alexa.yaml
fan: !include fans.yaml
light: !include_dir_merge_list lights/
template: !include templates.yaml

# MQTT Broker Connection
mqtt:
  broker: !secret mqtt_broker
  discovery: True

# camera:
#   - platform: local_file
#     file_path: /tmp/driveway_cam_doods_latest.jpg
#     name: "Driveway Cam Objects Detected"
#   - platform: local_file
#     file_path: /tmp/backyard_cam_doods_latest.jpg
#     name: "Backyard Cam Objects Detected"
#  - platform: local_file
#    file_path: /config/www/doods_test_image.jpg
#    name: "Doods Test Image"
#  - platform: local_file
#    file_path: /tmp/doods_test_image_doods_latest.jpg
#    name: "Doods Test Image Objects Detected"

# image_processing:
#   - platform: doods
#     scan_interval: 10000
#     url: !secret doods_url
#     timeout: 60
#     detector: default
#     source:
#       - entity_id: camera.driveway_cam
#       - entity_id: camera.backyard_cam
# #      - entity_id: camera.doods_test_image
#     file_out:
#       - "/tmp/{{ camera_entity.split('.')[1] }}_doods_latest.jpg"
#      # - "/tmp/{{ camera_entity.split('.')[1] }}_{{ now().strftime('%Y%m%d_%H%M%S') }}.jpg"
#     confidence: 75
#     labels:
#       - person
#       - bicycle
#       #- car
#       - motorcycle
#       - truck
#       - bird
#       - cat
#       - dog
#       - chair
#       - couch

# enable WOL integration    
wake_on_lan:    

# Samsung Smart TV
# samsungtv:
#   - host: !secret media_player_samsungtv_host
#     name: "Living Room TV"
#     turn_on_action:
#       - service: wake_on_lan.send_magic_packet
#         data:
#           mac: !secret media_player_samsungtv_mac
   
# tplink:
#   discovery: false
#   switch:
#     - host: 192.168.6.50
#     - host: 192.168.6.51
#     - host: 192.168.6.52
#     - host: 192.168.6.54

utility_meter:
  daily_gas:
    source: sensor.gas_meter_consumption
    name: Daily Gas Usage
    cycle: daily
  monthly_gas:
    source: sensor.gas_meter_consumption
    name: Monthly Gas Usage
    cycle: monthly
    offset:
    # At least one of these must be specified:
      days: 13
      hours: 0
      minutes: 0
  daily_jag_mileage:
    source: sensor.the_jag_odometer
    name: Daily Jag Mileage
    cycle: daily
  monthly_jag_mileage:
    source: sensor.the_jag_odometer
    name: Monthly Jag Mileage
    cycle: monthly

influxdb:
  host: !secret influxdb_host
  port: 8086
  database: home_assistant
  username: !secret influxdb_username
  password: !secret influxdb_password
  #ssl: false
  #verify_ssl: false
  max_retries: 3
  #default_measurement: state
  # exclude:
  #   entities:
  #      - entity.id1
  #      - entity.id2
  #   domains:
  #      - automation
  include:
    entities:
       - device_tracker.pixel_3
       - device_tracker.sean_s_s20
       - device_tracker.the_jag
       - sensor.airthings_basement_co2
       - sensor.airthings_basement_enthalpy
       - sensor.airthings_basement_humidity
       - sensor.airthings_basement_pressure
       - sensor.airthings_basement_radon_1_day_avg
       - sensor.airthings_basement_radon_longterm_avg
       - sensor.airthings_basement_temperature
       - sensor.airthings_basement_voc
       - sensor.bedroom_humidity
       - sensor.bedroom_temperature
       - sensor.bedroom_enthalpy
       - sensor.dark_sky_apparent_temperature
       - sensor.dark_sky_cloud_coverage
       - sensor.dark_sky_daily_max_precip_intensity
       - sensor.dark_sky_daytime_high_apparent_temperature
       - sensor.dark_sky_daytime_high_temperature
       - sensor.dark_sky_dew_point
       - sensor.dark_sky_humidity
       - sensor.dark_sky_moon_phase
       - sensor.dark_sky_overnight_low_apparent_temperature
       - sensor.dark_sky_overnight_low_temperature
       - sensor.dark_sky_ozone
       - sensor.dark_sky_precip_accumulation
       - sensor.dark_sky_precip_intensity
       - sensor.dark_sky_precip_probability
       - sensor.dark_sky_pressure
       - sensor.dark_sky_temperature
       - sensor.dark_sky_uv_index
       - sensor.dark_sky_visibility
       - sensor.dark_sky_wind_bearing
       - sensor.dark_sky_wind_speed
       - sensor.darksky_enthalpy
       - sensor.dcp_l2550dw_black_toner_remaining
       - sensor.dcp_l2550dw_drum_remaining_life
       - sensor.dcp_l2550dw_page_counter
       - sensor.dexcom_glucose_value
       - sensor.ecobee_thermostat_current_humidity
       - sensor.ecobee_thermostat_current_temperature
       - sensor.ecobee_upstairs_sensor_battery
       - sensor.ecobee_upstairs_sensor_temperature
       - sensor.electric_meter_consumption
       - sensor.garage_humidity
       - sensor.garage_temperature
       - sensor.garage_enthalpy
       - sensor.gas_meter_consumption
       - sensor.guest_room_enthalpy
       - sensor.guest_room_humidity
       - sensor.guest_room_temperature
       - sensor.hs110_1_power
       - sensor.hs110_2_power
       - sensor.hs110_3_power
       - sensor.hs110_1_today_s_consumption
       - sensor.hs110_2_today_s_consumption
       - sensor.hs110_3_today_s_consumption
       - sensor.hs110_1_total_consumption
       - sensor.hs110_2_total_consumption
       - sensor.hs110_3_total_consumption
       - sensor.kitchen_humidity
       - sensor.kitchen_temperature
       - sensor.kitchen_enthalpy
       - sensor.living_room_humidity
       - sensor.living_room_temperature
       - sensor.living_room_enthalpy
       - sensor.loft_humidity
       - sensor.loft_temperature
       - sensor.loft_enthalpy
       - sensor.lower_attic_humidity
       - sensor.lower_attic_temperature
       - sensor.lower_attic_enthalpy
       - sensor.myip
       - sensor.office_enthalpy
       - sensor.office_humidity
       - sensor.office_temperature
       - sensor.office_tvoc
       - sensor.phase_1_power
       - sensor.phase_2_power
       - sensor.safe_humidity
       - sensor.safe_temperature
       - sensor.safe_enthalpy
       - sensor.speedtest_download
       #- sensor.speedtest_ping
       - sensor.speedtest_upload
       - sensor.the_jag_battery
       - sensor.the_jag_odometer
       - sensor.the_jag_range
       - sensor.the_jag_tyres
       - sensor.total_power
       - sensor.touchscreen_deadbolt_z_wave_plus_battery_level
       - sensor.u_s_air_quality_index
       - sensor.upstairs_aq_radiation_cpm
       - sensor.upstairs_aq_radiation_dose_rate
       - sensor.upstairs_aq_total_radiation_counts
       - sensor.water_meter_consumption
       - sensor.water_pressure
       - sun.sun

    # domains:
    #   - sensor  
  # tags:
  #   instance: prod
  #   source: hass    